{"version":3,"file":"form.js","sourceRoot":"","sources":["../../../src/components/form.ts"],"names":[],"mappings":";AAAA,OAAO,EAAC,GAAG,EAAE,IAAI,EAAC,MAAM,KAAK,CAAC;AAC9B,OAAO,EAAC,aAAa,EAAE,QAAQ,EAAC,MAAM,mBAAmB,CAAC;AAC1D,OAAO,EAAC,QAAQ,EAAC,MAAM,kBAAkB,CAAC;AAC1C,OAAO,aAAa,CAAA;AACpB,OAAO,EAAC,YAAY,EAAE,YAAY,EAAC,MAAM,iCAAiC,CAAC;AAC3E,OAAO,EAAC,2BAA2B,EAAC,MAAM,+BAA+B,CAAC;AAG1E,IAAM,IAAI,GAAV,MAAM,IAAK,SAAQ,QAAQ;IAA3B;;QAC4B,oBAAe,GAAG,QAAQ,CAAC;QAqBrD,kBAAa,GAAG,CAAC,MAAW,EAAE,EAAE;YAC9B,2BAA2B,EAAE,CAAC;YAC9B,MAAM,CAAC,cAAc,EAAE,CAAC;YACxB,MAAM,CAAC,eAAe,EAAE,CAAC;YACzB,IAAI,CAAC,WAAW,EAAE,CAAC;YAEnB,MAAM,YAAY,GAAG,YAAY,EAAW,CAAC;YAC7C,MAAM,QAAQ,GAAQ,EAAE,CAAC;YACzB,IAAI,CAAC,YAAY,CAAC,OAAO,CAAC,OAAO,CAAC,EAAE;gBAClC,IAAI,OAAO,CAAC,IAAI,KAAK,WAAW,EAAE,CAAC;oBACjC,QAAQ,CAAC,OAAO,CAAC,IAAI,CAAC,GAAG,IAAI,CAAC,cAAc,CAAC,OAAO,CAAC,UAAU,CAAC,CAAC;gBACnE,CAAC;qBAAM,CAAC;oBACN,QAAQ,CAAC,OAAO,CAAC,IAAI,CAAC,GAAG,OAAO,CAAC,UAAU,CAAC;gBAC9C,CAAC;YAEH,CAAC,CAAC,CAAC;YACH,YAAY,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;YAC5B,YAAY,CAAC,YAAY,CAAC,CAAC;YAE3B,IAAI,CAAC,IAAI,CAAC,cAAc,EAAE,QAAQ,CAAC,OAAO,CAAC,EAAE,CAAC;gBAC5C,IAAI,CAAC,aAAa,CAAC,IAAI,WAAW,CAAC,IAAI,CAAC,eAAe,EAAE;oBACvD,MAAM,EAAE,EAAC,MAAM,EAAE,OAAO,EAAC;oBACzB,OAAO,EAAE,IAAI;oBACb,QAAQ,EAAE,IAAI;iBACf,CAAC,CAAC,CAAC;YACN,CAAC;iBAAM,CAAC;gBACN,IAAI,CAAC,oCAAoC,CAAC,IAAI,CAAC,CAAC;YAClD,CAAC;QACH,CAAC,CAAC;IAuBJ,CAAC;IAtEC,MAAM,KAAK,UAAU;QACnB,OAAO;YACL,GAAG,KAAK,CAAC,UAAU;SACpB,CAAC;IACJ,CAAC;IAED,MAAM,KAAK,MAAM;QACf,OAAO;YACL,GAAG,KAAK,CAAC,MAAM;YACf,GAAG,CAAA;;;;;;OAMF;SACF,CAAC;IACJ,CAAC;IAgCD,cAAc,CAAC,cAAoB;QACjC,OAAO,cAAc,CAAC,cAAc,CAAC,OAAO,EAAE;YAC5C,OAAO,EAAE,MAAM;YACf,IAAI,EAAE,SAAS;YACf,KAAK,EAAE,MAAM;YACb,GAAG,EAAE,SAAS;YACd,IAAI,EAAE,SAAS;YACf,MAAM,EAAE,SAAS;YACjB,YAAY,EAAE,OAAO;SACtB,CAAC,CAAC;IACL,CAAC;IAED,UAAU;IAEV,CAAC;IACD,MAAM;QACJ,OAAO,IAAI,CAAA;QACP,KAAK,CAAC,MAAM,EAAE;4BACM,IAAI,CAAC,aAAa;KACzC,CAAC;IACJ,CAAC;CACF,CAAA;AAxE2B;IAAzB,QAAQ,CAAC,EAAC,IAAI,EAAE,MAAM,EAAC,CAAC;6CAA4B;AADjD,IAAI;IADT,aAAa,CAAC,UAAU,CAAC;GACpB,IAAI,CAyET","sourcesContent":["import {css, html} from 'lit';\nimport {customElement, property} from 'lit/decorators.js';\nimport {LionForm} from '@lion/ui/form.js';\nimport './button.js'\nimport {getDemoState, setDemoState} from '../utils/localStorageService.js';\nimport {loadDefaultFeedbackMessages} from '@lion/ui/validate-messages.js';\n\n@customElement('web-form')\nclass Form extends LionForm {\n  @property({type: String}) submitEventName = 'submit';\n\n  static get properties() {\n    return {\n      ...super.properties,\n    };\n  }\n\n  static get styles() {\n    return [\n      ...super.styles,\n      css`\n        :host {\n          display: block;\n          padding: 16px;\n          z-index:2;\n        }\n      `,\n    ];\n  }\n\n  submitHandler = ($event: any) => {\n    loadDefaultFeedbackMessages();\n    $event.preventDefault();\n    $event.stopPropagation();\n    this.submitGroup();\n\n    const currentState = getDemoState() as any[];\n    const stateRow: any = {};\n    this.formElements.forEach(element => {\n      if (element.name === 'birthdate') {\n        stateRow[element.name] = this.formatDateTime(element.modelValue);\n      } else {\n        stateRow[element.name] = element.modelValue;\n      }\n\n    });\n    currentState.push(stateRow);\n    setDemoState(currentState);\n\n    if (!this.hasFeedbackFor?.includes('error')) {\n      this.dispatchEvent(new CustomEvent(this.submitEventName, {\n        detail: {target: 'panel'},\n        bubbles: true,\n        composed: true\n      }));\n    } else {\n      this._setFocusOnFirstErroneousFormElement(this);\n    }\n  };\n\n  formatDateTime(dateTimeString: Date): string {\n    return dateTimeString.toLocaleString('en-US', {\n      weekday: 'long',\n      year: 'numeric',\n      month: 'long',\n      day: 'numeric',\n      hour: '2-digit',\n      minute: '2-digit',\n      timeZoneName: 'short'\n    });\n  }\n\n  mockSubmit(){\n\n  }\n  render() {\n    return html`\n      ${super.render()}\n      <web-button @click=\"${this.submitHandler}\">Submit</web-button>\n    `;\n  }\n}\n\n"]}